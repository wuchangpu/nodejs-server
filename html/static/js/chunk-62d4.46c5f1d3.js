(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-62d4"],{"2DB5":function(t,e,a){},DLW3:function(t,e,a){"use strict";var n=a("2DB5");a.n(n).a},R1mT:function(t,e,a){"use strict";a.r(e);var n=a("cLjf"),r=a.n(n),i=a("6ZY3"),l=a.n(i),o=a("hDQ3"),s=a.n(o),c={data:function(){return{formData:{title:"",eventObject:"",status:"",appraiseStatus:"",endTimeMin:"",endTimeMax:"",updateTimeMin:"",updateTimeMax:""},copyData:{},pageData:{pageNumber:1,pageSize:5},total:0,timeRange:[],timeRange1:[],pickerOptions:{disableDate:function(t){return t.getTime()>Date.now()}},tableData:[],selections:[]}},created:function(){this.getTableData()},methods:{getTableData:function(){var t=this;return s()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.timeRange&&t.timeRange.length&&l()(t.formData,{endTimeMin:t.timeRange[0].getTime(),endTimeMax:t.timeRange[1].getTime()}),t.timeRange1&&t.timeRange1.length&&l()(t.formData,{updateTimeMin:t.timeRange1[0].getTime(),updateTimeMax:t.timeRange1[1].getTime()}),e.next=4,t.$post("RateSystemList",l()({},t.formData,t.pageData));case 4:if("1000"!==(a=e.sent).returnCode){e.next=11;break}t.copyData=t.$deepCopy(t.formData),t.tableData=a.records,t.total=+a.total,e.next=12;break;case 11:return e.abrupt("return",t.$message.error(a.message));case 12:case"end":return e.stop()}},e,t)}))()},onClickDetailBtn:function(t){var e=t.row.id;this.$router.push({name:"RateActivityDetail",query:{id:e}})},onSelectionChangeTable:function(t){this.selections=t},onClickEditBtn:function(t){var e=t.row.id;this.$router.push({name:"RateActivityAdd",query:{id:e}})},onClickMultipleDelete:function(){var t=this;if(!this.selections.length)return!1;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e=t.selections.map(function(t){return t.id});t.handleDeleteAction(e)}).catch(function(){})},onClickSingleDeleteBtn:function(t){var e=this,a=t.row.id;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.handleDeleteAction([a])}).catch(function(){})},handleDeleteAction:function(t){var e=this;return s()(r.a.mark(function a(){var n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.$post("RateDelete",{ids:t});case 2:if("1000"!==(n=a.sent).returnCode){a.next=8;break}e.tableData.length-1==0&&e.pageData.pageNumber>1&&(e.pageData.pageNumber=e.pageData.pageNumber-1),e.onPageChange({page:e.pageData.pageNumber,limit:e.pageData.pageSize}),a.next=9;break;case 8:return a.abrupt("return",e.$message.error(n.message));case 9:case"end":return a.stop()}},a,e)}))()},onClickAddBtn:function(){this.$router.push({name:"RateActivityAdd"})},getStatusStr:function(t){switch(t.row.status){case"1":return"待发布";case"2":return"进行中";case"3":return"已截止";default:return""}},getAppraiseStatusStr:function(t){switch(t.row.appraiseStatus){case"1":return"评审中";case"2":return"已完结";case"3":return"已公示";default:return""}},onPageChange:function(t){var e=t.page,a=t.limit;this.pageData.pageNumber=e,this.pageData.pageSize=a,this.formData=this.copyData,this.getTableData()},onClickSearchBtn:function(t){this.pageData.pageNumber=1,this.getTableData(),t.preventDefault()},onClickOpenBtn:function(t){var e=t.row.id;this.$router.push({name:"RateActivityOpen",query:{id:e}})},onClickCheckBtn:function(t){var e=t.row.id;this.$router.push({name:"RateActivityCheck",query:{id:e}})}}},u=(a("DLW3"),a("ZrdR")),p=Object(u.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"rate-activity"}},[a("el-form",{staticClass:"form",attrs:{"label-width":"120px",model:t.formData},on:{submit:function(e){return e.preventDefault(),t.onClickSearchBtn(e)}}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"标题：",prop:"title"}},[a("el-input",{attrs:{clearable:""},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"活动对象：",prop:"eventObject"}},[a("el-select",{attrs:{clearable:""},model:{value:t.formData.eventObject,callback:function(e){t.$set(t.formData,"eventObject",e)},expression:"formData.eventObject"}},[a("el-option",{attrs:{label:"招生干部",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"招生组长",value:"2"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"状态：",prop:"status"}},[a("el-select",{attrs:{clearable:""},model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-option",{attrs:{label:"待发布",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"进行中",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"已截止",value:"2"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"评审状态：",prop:"appraiseStatus"}},[a("el-select",{attrs:{clearable:""},model:{value:t.formData.appraiseStatus,callback:function(e){t.$set(t.formData,"appraiseStatus",e)},expression:"formData.appraiseStatus"}},[a("el-option",{attrs:{label:"评审中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"已完结",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"已公示",value:"3"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"date-form-item",attrs:{label:"活动结束时间："}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions,clearable:""},model:{value:t.timeRange,callback:function(e){t.timeRange=e},expression:"timeRange"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{staticClass:"date-form-item",attrs:{label:"更新时间："}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions,clearable:""},model:{value:t.timeRange1,callback:function(e){t.timeRange1=e},expression:"timeRange1"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary",size:"small","native-type":"submit"},on:{click:t.onClickSearchBtn}},[t._v("搜索")])],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"table__container"},[a("div",{staticClass:"btn_container",staticStyle:{"margin-bottom":"20px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.onClickAddBtn}},[t._v("新增活动")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:t.onClickMultipleDelete}},[t._v("批量删除")])],1),t._v(" "),a("el-table",{ref:"tableData",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"selection-change":t.onSelectionChangeTable}},[a("el-table-column",{attrs:{type:"selection"}}),t._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",title:e.row.title},on:{click:function(a){t.onClickDetailBtn(e)}}},[t._v(t._s(e.row.title))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"eventObject",label:"活动对象"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n          "+t._s("1"===e.row.eventObject?"招生干部":"2"===e.row.eventObject?"招生组长":"")+"\r\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n          "+t._s(t.getStatusStr(e))+"\r\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"eventBegin",label:"活动开始时间","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n          "+t._s(t._f("filterTime")(e.row.eventBegin,"YYYY-MM-DD"))+"\r\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"eventEnd",label:"活动结束时间","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n          "+t._s(t._f("filterTime")(e.row.eventEnd,"YYYY-MM-DD"))+"\r\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"updatedTime",label:"更新时间","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n          "+t._s(t._f("filterTime")(e.row.updatedTime,"YYYY-MM-DD"))+"\r\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"applyNumber",label:"申请人数","min-width":"150px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"appraiseStatus",label:"评审状态","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n          "+t._s(t.getAppraiseStatusStr(e))+"\r\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return["3"===e.row.status&&"2"===e.row.appraiseStatus?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.onClickOpenBtn(e)}}},[t._v("一键公示")]):t._e(),t._v(" "),"3"===e.row.status&&"3"===e.row.appraiseStatus?a("el-button",{attrs:{type:"text"},on:{click:function(a){t.onClickCheckBtn(e)}}},[t._v("查看公示")]):t._e(),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.onClickEditBtn(e)}}},[t._v("编辑活动")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.onClickSingleDeleteBtn(e)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pagination"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.pageData.pageNumber,limit:t.pageData.pageSize},on:{"update:page":function(e){t.$set(t.pageData,"pageNumber",e)},"update:limit":function(e){t.$set(t.pageData,"pageSize",e)},pagination:t.onPageChange}})],1)],1)},[],!1,null,"2e3643fa",null);p.options.__file="list.vue";e.default=p.exports}}]);