(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-01a1"],{B6Yi:function(t,s,e){t.exports=e.p+"static/img/login.67a6b0d.png"},HGGC:function(t,s,e){"use strict";var n={},o=(e("eD7o"),e("ZrdR")),a=Object(o.a)(n,function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"login_nav"},[n("el-row",{staticClass:"top"},[n("el-col",{attrs:{span:15}},[n("div",{staticClass:"logo_contianer"},[n("img",{staticClass:"logo",attrs:{src:e("zwU1"),alt:"logo"}}),t._v(" "),n("span",{staticClass:"text_left"},[t._v("智慧华中大")]),t._v(" "),n("span",{staticClass:"text_center"}),t._v(" "),n("span",{staticClass:"text_right"},[t._v("招生宣传干部管理系统（测试）")])])]),t._v(" "),n("el-col",{staticClass:"avatar_container",attrs:{span:9}},[n("div",{staticClass:"avatar_wrapper"},[n("span",{staticClass:"today"},[t._v("今日访问量：3301")]),t._v(" "),n("span",{staticClass:"total"},[t._v("总访问量：700.33万")])])])],1)],1)},[],!1,null,"e3e92376",null);a.options.__file="index.vue";s.a=a.exports},UdzG:function(t,s,e){"use strict";var n=e("gzpO");e.n(n).a},d3e1:function(t,s,e){},ddyR:function(t,s,e){},eD7o:function(t,s,e){"use strict";var n=e("d3e1");e.n(n).a},gzpO:function(t,s,e){},ntYl:function(t,s,e){"use strict";e.r(s);var n=e("cLjf"),o=e.n(n),a=e("hDQ3"),r=e.n(a),i=e("bS4n"),c=e.n(i),l=(e("Yfch"),e("8t5x")),u={name:"Login",components:{LoginNav:e("HGGC").a},data:function(){var t=this;return{loginForm:{jobNumber:"",password:""},loginRules:{jobNumber:[{required:!0,message:"请输入用户名",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"change"},{validator:function(s,e,n){e?t.$reg.psd.test(e)?n():n(new Error("请输入8-20位字母、数字或符号的密码")):n(new Error("请输入密码"))},trigger:"blur"}]},loading:!1,pwdType:"password",redirect:void 0}},computed:c()({},Object(l.c)(["permission"])),watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},methods:{showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleLogin:function(){var t=this;this.$refs.loginForm.validate(function(s){if(!s)return console.log("error submit!!"),!1;t.loading=!0,t.login()})},login:function(){var t=this;return r()(o.a.mark(function s(){var e;return o.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.$post("sysLogin",{jobNumber:t.loginForm.jobNumber,password:t.$md5(t.loginForm.password)});case 2:"1000"===(e=s.sent).returnCode?(t.$store.dispatch("setUserInfo",e.dataInfo),t.getMenu()):t.$message.error(e.message),t.loading=!1;case 5:case"end":return s.stop()}},s,t)}))()},getMenu:function(){var t=this;return r()(o.a.mark(function s(){var e;return o.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,t.$post("sysMenuNav",{});case 2:"1000"===(e=s.sent).returnCode?(t.$store.dispatch("setResMenu",e.dataInfo),t.$store.dispatch("GenerateRoutes",e.dataInfo).then(function(){t.$router.addRoutes(t.permission.addRouters),t.$router.push("/admissionsTeam/structure/list")}).catch(function(t){console.log(t)})):t.$message.error(e.message);case 4:case"end":return s.stop()}},s,t)}))()},toInitPsd:function(){this.$router.push("/initPassword")}}},p=(e("UdzG"),e("rQjR"),e("ZrdR")),d=Object(p.a)(u,function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"login_container"},[n("login-nav"),t._v(" "),n("el-row",{staticClass:"content"},[n("el-col",{staticClass:"image_container",attrs:{span:16}},[n("img",{attrs:{src:e("B6Yi"),alt:"login"}})]),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,"auto-complete":"on","label-position":"left"}},[n("h3",{staticClass:"title"},[t._v("管理员账号登录")]),t._v(" "),n("el-form-item",{attrs:{prop:"jobNumber"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"user"}})],1),t._v(" "),n("el-input",{attrs:{name:"jobNumber",type:"text","auto-complete":"on",placeholder:"人员编号（10位）/学号（ID）"},model:{value:t.loginForm.jobNumber,callback:function(s){t.$set(t.loginForm,"jobNumber","string"==typeof s?s.trim():s)},expression:"loginForm.jobNumber"}})],1),t._v(" "),n("el-form-item",{staticClass:"password",attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),t._v(" "),n("el-input",{attrs:{type:t.pwdType,name:"password","auto-complete":"on",placeholder:"请输入密码（Password)"},nativeOn:{keyup:function(s){return"button"in s||!t._k(s.keyCode,"enter",13,s.key,"Enter")?t.handleLogin(s):null}},model:{value:t.loginForm.password,callback:function(s){t.$set(t.loginForm,"password","string"==typeof s?s.trim():s)},expression:"loginForm.password"}}),t._v(" "),n("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[n("svg-icon",{attrs:{"icon-class":"password"===t.pwdType?"eye":"eye-open"}})],1)],1),t._v(" "),n("div",{staticClass:"reset_password",on:{click:t.toInitPsd}},[t._v("初始化密码/重置密码")]),t._v(" "),n("el-form-item",{staticClass:"btn_container"},[n("el-button",{staticStyle:{width:"100%"},attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(s){return s.preventDefault(),t.handleLogin(s)}}},[t._v("登录")])],1)],1)],1)],1)],1)},[],!1,null,"650586c0",null);d.options.__file="index.vue";s.default=d.exports},rQjR:function(t,s,e){"use strict";var n=e("ddyR");e.n(n).a}}]);