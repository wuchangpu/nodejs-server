(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6244"],{"6Ffm":function(e,t,a){"use strict";a.r(t);var r=a("cLjf"),o=a.n(r),s=a("hDQ3"),n=a.n(s),l={name:"exam-questions-list",data:function(){return{form:{title:"",paperType:"",status:"",bgnTime:"",endTime:"",pageNumber:1,pageSize:20},tableData:[],total:0}},created:function(){this.getTableData()},methods:{getTableData:function(){var e=this;return n()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$post("examPaperRuleQueryPage",e.form);case 2:"1000"===(a=t.sent).returnCode?(e.tableData=a.records,e.total=+a.total):e.$message.error(a.message);case 4:case"end":return t.stop()}},t,e)}))()},search:function(){this.form.pageNumber=1,this.getTableData()},paginationChange:function(e){this.form.pageNumber=e.page,this.form.pageSize=e.limit,this.getTableData()},editTableItem:function(e){this.$router.push({path:"/exam/examQuestions/edit",query:{id:e.row.id}})},operateStatusTableItem:function(e){var t=this,a=2==e.row.operator?"生效":3==e.row.operator?"失效":4==e.row.operator?"删除":"";this.$confirm("此操作将"+a+"标题为“"+e.row.title+"”的试题, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.operateStatusRequest(e.row.id,e.row.operator)}).catch(function(){})},operateStatusRequest:function(e,t){var a=this;return n()(o.a.mark(function r(){var s;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.$post("examPaperRuleEffectOrInvalid",{id:e,status:t});case 2:"1000"===(s=r.sent).returnCode?(a.$message.success("操作成功"),a.getTableData()):a.$message.error(s.message);case 4:case"end":return r.stop()}},r,a)}))()},addBtnClick:function(){this.$router.push("/exam/examQuestions/add")},changeToppingSwitch:function(e,t){var a=this;return n()(o.a.mark(function r(){var s;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.$post("examPaperRuleUpdateTopMrkById",{id:t.row.id,topMrk:e});case 2:"1000"===(s=r.sent).returnCode?(a.$message.success("操作成功"),a.getTableData()):(a.$message.error(s.message),t.row.topMrk="0"===e?"1":"1"===e?"0":"");case 4:case"end":return r.stop()}},r,a)}))()}}},i=(a("cQAY"),a("ZrdR")),c=Object(i.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"exam_questions_list"},[a("div",{staticClass:"questions_list_wrapper"},[a("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"标题："}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"分类："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.form.paperType,callback:function(t){e.$set(e.form,"paperType",t)},expression:"form.paperType"}},[a("el-option",{attrs:{label:"基础政策",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"技巧考核",value:"2"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",clearable:""},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-option",{attrs:{label:"待发布",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"已发布",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"已失效",value:"3"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"更新时间："}},[a("el-col",{attrs:{span:11}},[a("date-picker",{attrs:{fullWidth:""},model:{value:e.form.bgnTime,callback:function(t){e.$set(e.form,"bgnTime",t)},expression:"form.bgnTime"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("date-picker",{attrs:{fullWidth:"",end:""},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1)],1)],1)],1),e._v(" "),a("el-row",{staticClass:"search_button_row"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"roles_container"},[a("div",{staticClass:"btn_container"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addBtnClick}},[e._v("新增试题")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{label:"置顶",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{staticStyle:{display:"block"},attrs:{"active-value":"1","inactive-value":"0","inactive-color":"#ccc"},on:{change:function(a){e.changeToppingSwitch(a,t)}},model:{value:t.row.topMrk,callback:function(a){e.$set(t.row,"topMrk",a)},expression:"scope.row.topMrk"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{path:"/exam/examQuestions/detail",query:{id:t.row.id}}}},[e._v(e._s(t.row.title))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"jobNumber",label:"分类"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s("1"===t.row.paperType?"基础政策":"2"===t.row.paperType?"技巧考核":"")+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"idCard",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s("1"===t.row.status?"待发布":"2"===t.row.status?"已发布":"3"===t.row.status?"已失效":"")+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"更新时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n            "+e._s(e._f("filterTime")(t.row.updatedTime,"YYYY-MM-DD hh:mm"))+"\n          ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"edit_item",on:{click:function(a){e.editTableItem(t)}}},[e._v("编辑")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:2==t.row.operator||3==t.row.operator||4==t.row.operator,expression:"scope.row.operator == 2 || scope.row.operator == 3 || scope.row.operator == 4"}],staticClass:"del_item",on:{click:function(a){e.operateStatusTableItem(t)}}},[e._v("\n              "+e._s(2==t.row.operator?"生效":3==t.row.operator?"失效":4==t.row.operator?"删除":"")+"\n            ")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.form.pageNumber,limit:e.form.pageSize},on:{"update:page":function(t){e.$set(e.form,"pageNumber",t)},"update:limit":function(t){e.$set(e.form,"pageSize",t)},pagination:e.paginationChange}})],1)],1)])},[],!1,null,"0a6ebf6a",null);c.options.__file="list.vue";t.default=c.exports},JO1V:function(e,t,a){},cQAY:function(e,t,a){"use strict";var r=a("JO1V");a.n(r).a}}]);