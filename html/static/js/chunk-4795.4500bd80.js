(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4795"],{cNAx:function(e,t,a){"use strict";a.r(t);var r=a("6ZY3"),i=a.n(r),l=a("cLjf"),o=a.n(l),n=a("hDQ3"),s=a.n(n),d={data:function(){return{tableData:[],isShowDialog:!1,pageData:{pageSize:5,pageNumber:1},total:0,formData:{id:"",dicId:"",dataValue:"",dataSort:"",remark:"",deleted:"1"},ruler:{deleted:{required:!0,message:"请选择",trigger:"change"},dataSort:{required:!0,message:"请输入",trigger:"blur"},dataValue:{required:!0,message:"请输入",trigger:"blur"}},id:"",dicId:"",detailData:{dicName:"",dicCode:"",deleted:""},isEdit:!1}},created:function(){this.$route.query.id&&(this.id=this.$route.query.id,this.dicId=this.$route.query.dic_id,this.getCodeDetail(),this.getTableData())},methods:{onChangeStatus:function(e){for(var t=this,a=arguments.length,r=Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];return s()(o.a.mark(function a(){var i;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$post("dictionaryValueStatusChange",{idList:r,deleted:e});case 2:if("1000"!==(i=a.sent).returnCode){a.next=8;break}t.$message.success("修改成功"),t.getTableData(),a.next=9;break;case 8:return a.abrupt("return",t.$message.error(i.message));case 9:case"end":return a.stop()}},a,t)}))()},getCodeDetail:function(){var e=this;return s()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$post("dictionaryDetail",{id:e.id});case 2:if("1000"!==(a=t.sent).returnCode){t.next=7;break}e.detailData=a.dataInfo,t.next=8;break;case 7:return t.abrupt("return",e.$message.error(a.message));case 8:case"end":return t.stop()}},t,e)}))()},getTableData:function(){var e=this;return s()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$post("dictionaryValueList",i()({},e.pageData,{dicId:e.id}));case 2:if("1000"!==(a=t.sent).returnCode){t.next=8;break}e.tableData=a.records,e.total=+a.total,t.next=9;break;case 8:return t.abrupt("return",e.$message.error(a.message));case 9:case"end":return t.stop()}},t,e)}))()},onPageChange:function(e){var t=e.page,a=e.limit;this.pageData.pageNumber=t,this.pageData.pageSize=a,this.getTableData()},onClickAddBtn:function(){this.isShowDialog=!0},onClickSaveBtn:function(){var e=this;this.$refs.dialogForm.validate(function(t){return t&&e.handleSaveAction()})},onClickEditBtn:function(e){var t=e.row;this.isShowDialog=!0,this.isEdit=!0,this.formData={id:t.id,dicId:t.dicId,dataValue:t.dataValue,dataSort:t.dataSort,remark:t.remark,deleted:t.deleted}},handleSaveAction:function(){var e=this;return s()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$post("dictionaryValueAdd",i()({},e.formData,{dicId:e.id}));case 2:if("1000"!==(a=t.sent).returnCode){t.next=9;break}e.$message.success("操作成功"),e.onCloseDialog(),e.getTableData(),t.next=10;break;case 9:return t.abrupt("return",e.$message.error(a.message));case 10:case"end":return t.stop()}},t,e)}))()},onCloseDialog:function(){this.isShowDialog=!1,this.formData={id:"",dicId:"",dataValue:"",dataSort:"",remark:"",deleted:"1"},this.$refs.dialogForm.resetFields()}}},c=(a("rWf7"),a("ZrdR")),u=Object(c.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"system-dictionary-detail"},[a("el-row",{staticClass:"detail"},[a("el-col",{attrs:{span:8}},[a("dl",[a("dt",[e._v("字典名称：")]),e._v(" "),a("dd",[e._v(e._s(e.detailData.dicName))])])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("dl",[a("dt",[e._v("字典码：")]),e._v(" "),a("dd",[e._v(e._s(e.detailData.dicCode))])])]),e._v(" "),a("el-col",{attrs:{span:8}},[a("dl",[a("dt",[e._v("状态：")]),e._v(" "),a("dd",[a("el-radio-group",{model:{value:e.detailData.deleted,callback:function(t){e.$set(e.detailData,"deleted",t)},expression:"detailData.deleted"}},[a("el-radio",{attrs:{label:"1"}},[e._v("启用")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("禁用")])],1)],1)])])],1),e._v(" "),a("div",{staticClass:"table__container"},[a("h6",[e._v("字典数据列表")]),e._v(" "),a("div",{staticClass:"btn_container",staticStyle:{"margin-bottom":"20px"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.onClickAddBtn}},[e._v("新增字典数据")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dataKey",label:"字典数据键"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dataValue",label:"选项名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"deleted",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-text":"启用","active-value":"1","inactive-text":"禁用","inactive-value":"2",value:t.row.deleted},on:{change:function(a){e.onChangeStatus(a,t.row.id)}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.onClickEditBtn(t)}}},[e._v("编辑")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.pageData.pageNumber,limit:e.pageData.pageSize},on:{"update:page":function(t){e.$set(e.pageData,"pageNumber",t)},"update:limit":function(t){e.$set(e.pageData,"pageSize",t)},pagination:e.onPageChange}})],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.isShowDialog,"close-on-click-modal":!1,title:e.isEdit?"编辑字典数据":"新增字典数据"},on:{close:e.onCloseDialog}},[a("el-row",[a("el-col",{attrs:{span:14}},[a("el-form",{ref:"dialogForm",attrs:{model:e.formData,"label-width":"150px",rules:e.ruler}},[a("el-form-item",{attrs:{prop:"dataValue",label:"选项名称："}},[a("el-input",{model:{value:e.formData.dataValue,callback:function(t){e.$set(e.formData,"dataValue",t)},expression:"formData.dataValue"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"dataSort",label:"序号："}},[a("el-input",{model:{value:e.formData.dataSort,callback:function(t){e.$set(e.formData,"dataSort",t)},expression:"formData.dataSort"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"deleted",label:"状态："}},[a("el-radio-group",{model:{value:e.formData.deleted,callback:function(t){e.$set(e.formData,"deleted",t)},expression:"formData.deleted"}},[a("el-radio",{attrs:{label:"1"}},[e._v("启用")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("禁用")])],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"remark",label:"备注："}},[a("el-input",{model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.onClickSaveBtn}},[e._v("确认")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:e.onCloseDialog}},[e._v("取消")])],1)],1)],1)],1)],1)],1)},[],!1,null,"c3721492",null);u.options.__file="detail.vue";t.default=u.exports},rWf7:function(e,t,a){"use strict";var r=a("yEJ0");a.n(r).a},yEJ0:function(e,t,a){}}]);