(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0075"],{Dcgy:function(t,e,a){"use strict";a.r(e);var i=a("6ZY3"),r=a.n(i),l=a("cLjf"),o=a.n(l),n=a("hDQ3"),s=a.n(n),c=a("zqH/"),u=(a("8SHQ"),{data:function(){return{detailData:{informType:""},id:"",content:"",fileList:[],isOpen:!1,isOpen1:!1,tableData:[],formData:{applyUserName:"",groupName:"",taskId:""},pageData:{pageSize:5,pageNumber:1},total:0,treeData:[],treeProps:{label:"groupName",children:"child"},workTypeList:[],copyData:{}}},created:function(){this.$route.query.id&&(this.id=this.$route.query.id,this.formData.taskId=this.id,this.getActivityDetail(),this.getDictionaryList(),this.getTableData())},components:{ChooseGroupComponent:a("KDrQ").a},methods:{onClickDetailBtn:function(t){var e=t.row,a=e.id,i=e.createdBy;this.$router.push({name:"RateActivityInfo",query:{task:a,id:i}})},onClickBackBtn:function(){this.$router.replace({name:"RateActivityList"})},onClickSearchBtn:function(){this.pageData.pageNumber=1,this.getTableData()},onPageChange:function(t){var e=t.page,a=t.limit;this.pageData.pageNumber=e,this.pageData.pageSize=a,this.getTableData()},getDictionaryList:function(){var t=this;return s()(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$post("sysDicGetSysDicList");case 2:if("1000"!==(a=e.sent).returnCode){e.next=7;break}t.workTypeList=a.dataInfo.find(function(t){return"1006_gdshzt"===t.dicCode}).dataEntityList,e.next=8;break;case 7:return e.abrupt("return",t.$message.error(a.message));case 8:case"end":return e.stop()}},e,t)}))()},getWorkTypeTypeStr:function(t){console.log(this.workTypeList);var e=this.workTypeList.find(function(e){return e.dataKey===t});if(e)return e.dataValue},onChangeTreeData:function(t){this.formData.groupId=t.id},getTableData:function(){var t=this;return s()(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$post("RateApplyList",r()({},t.formData,{taskId:t.id},t.pageData));case 2:if("1000"!==(a=e.sent).returnCode){e.next=10;break}console.log(a),t.tableData=a.records,t.total=+a.total,t.copyData=t.$deepCopy(t.formData),e.next=11;break;case 10:return e.abrupt("return",t.$message.error(a.message));case 11:case"end":return e.stop()}},e,t)}))()},getActivityDetail:function(){var t=this;return s()(o.a.mark(function e(){var a,i,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$post("RateDetail",{id:t.id});case 2:if("1000"!==(a=e.sent).returnCode){e.next=22;break}t.detailData=a.dataInfo,t.content=c.Base64.decode(t.detailData.content),i=a.dataInfo.fileName.split(","),l=a.dataInfo.filePath.split(","),t.fileList=l.map(function(t,e){return{name:i[e],url:t}}),e.t0=t.detailData.informType,e.next="1"===e.t0?11:"2"===e.t0?13:"3"===e.t0?15:"4"===e.t0?17:19;break;case 11:return r()(t.detailData,{orgList:[],roleList:[],userList:[]}),e.abrupt("break",20);case 13:return r()(t.detailData,{orgList:a.dataInfo.orgList,roleList:[],userList:[]}),e.abrupt("break",20);case 15:return r()(t.detailData,{orgList:a.dataInfo.roleList,roleList:[],userList:[]}),e.abrupt("break",20);case 17:return r()(t.detailData,{orgList:a.dataInfo.userList,roleList:[],userList:[]}),e.abrupt("break",20);case 19:return e.abrupt("break",20);case 20:e.next=23;break;case 22:return e.abrupt("return",t.$message.error(a.message));case 23:case"end":return e.stop()}},e,t)}))()}}}),p=(a("FXxG"),a("ZrdR")),d=Object(p.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{attrs:{id:"rate-activity-detail"}},[a("div",{staticClass:"header-box"},[a("h1",[t._v(t._s(t.detailData.title))]),t._v(" "),a("dl",[a("dt",[t._v("更新时间：")]),t._v(" "),a("dd",[t._v(t._s(t._f("filterTime")(t.detailData.updatedTime,"YYYY-MM-DD hh:mm:ss")))])]),t._v(" "),a("ul",[a("li",[a("dl",[a("dt",[t._v("活动结束时间：")]),t._v(" "),a("dd",[t._v(t._s(t._f("filterTime")(t.detailData.eventEnd,"YYYY-MM-DD")))])])]),t._v(" "),a("li",[a("dl",[a("dt",[t._v("活动开始时间：")]),t._v(" "),a("dd",[t._v(t._s(t._f("filterTime")(t.detailData.eventBegin,"YYYY-MM-DD")))])])]),t._v(" "),a("li",[a("dl",[a("dt",[t._v("活动对象：")]),t._v(" "),a("dd",[t._v(t._s("1"===t.detailData.eventObject?"招生干部":"招生组长"))])])])])]),t._v(" "),a("div",{staticClass:"content",domProps:{innerHTML:t._s(t.content)}}),t._v(" "),a("div",{staticClass:"picture"},[a("h4",[t._v("活动宣传图")]),t._v(" "),t._l(t.fileList,function(t,e){return a("file-preview",{key:e,attrs:{src:t.url,"file-name":t.name}})})],2),t._v(" "),a("div",{staticClass:"picture"},[a("h4",{on:{click:function(e){t.isOpen=!t.isOpen}}},[t._v("通知设置"),a("i",{class:t.isOpen?"el-icon-caret-top":"el-icon-caret-bottom"})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}]},[a("el-radio-group",{attrs:{disabled:""},model:{value:t.detailData.informType,callback:function(e){t.$set(t.detailData,"informType",e)},expression:"detailData.informType"}},[a("el-radio",{attrs:{label:"1"}},[t._v("全部成员")]),t._v(" "),a("el-radio",{attrs:{label:"2"}},[t._v("指定招生组")]),t._v(" "),a("el-radio",{attrs:{label:"3"}},[t._v("指定角色")]),t._v(" "),a("el-radio",{attrs:{label:"4"}},[t._v("自定义成员")])],1),t._v(" "),a("specified-object",{ref:"person",attrs:{type:t.detailData.informType,disabled:!0},model:{value:t.detailData.orgList,callback:function(e){t.$set(t.detailData,"orgList",e)},expression:"detailData.orgList"}}),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"是否及时通知："}},[a("el-radio-group",{attrs:{disabled:""},model:{value:t.detailData.informTimely,callback:function(e){t.$set(t.detailData,"informTimely",e)},expression:"detailData.informTimely"}},[a("el-radio",{attrs:{label:"2"}},[t._v("否")]),t._v(" "),a("el-radio",{attrs:{label:"1"}},[t._v("是")])],1)],1),t._v(" "),"1"===t.detailData.informTimely?a("el-form-item",{attrs:{label:"提示时间："}},[a("el-date-picker",{attrs:{type:"date","value-format":"timestamp",disabled:""},model:{value:t.detailData.hintTime,callback:function(e){t.$set(t.detailData,"hintTime",e)},expression:"detailData.hintTime"}})],1):t._e()],1)],1)]),t._v(" "),a("div",{staticClass:"picture"},[a("h4",{on:{click:function(e){t.isOpen1=!t.isOpen1}}},[t._v("申请情况"),a("i",{class:t.isOpen1?"el-icon-caret-top":"el-icon-caret-bottom"})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen1,expression:"isOpen1"}]},[a("el-form",{staticClass:"form",attrs:{model:t.formData,"label-width":"120px"},on:{submit:t.onClickSearchBtn}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"姓名："}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.applyUserName,callback:function(e){t.$set(t.formData,"applyUserName",e)},expression:"formData.applyUserName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"所在招生组："}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.groupName,callback:function(e){t.$set(t.formData,"groupName",e)},expression:"formData.groupName"}})],1)],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"评审状态："}},[a("el-select",{model:{value:t.formData.status,callback:function(e){t.$set(t.formData,"status",e)},expression:"formData.status"}},[a("el-option",{attrs:{label:"评审中",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"已完结",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"已公示",value:"3"}})],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small","native-type":"submit"},on:{click:t.onClickSearchBtn}},[t._v("搜索")])],1)],1)],1)],1),t._v(" "),a("div",{staticStyle:{margin:"20px 0"}},[a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("批量下载")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData}},[a("el-table-column",{attrs:{type:"selection"}}),t._v(" "),a("el-table-column",{attrs:{prop:"applyUserName",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"jobNum",label:"工号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"groupName",label:"所在招生组"}}),t._v(" "),a("el-table-column",{attrs:{prop:"roleName",label:"角色"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"联系方式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"workState",label:"评审状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\r\n            "+t._s(t.getWorkTypeTypeStr(e.row.workState))+"\r\n          ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.onClickDetailBtn(e)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text"}},[t._v("下载")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.pageData.pageNumber,limit:t.pageData.pageSize},on:{"update:page":function(e){t.$set(t.pageData,"pageNumber",e)},"update:limit":function(e){t.$set(t.pageData,"pageSize",e)},pagination:t.onPageChange}})],1)],1)]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{size:"small"},on:{click:t.onClickBackBtn}},[t._v("返回")])],1)])},[],!1,null,"67cde60c",null);d.options.__file="detail.vue";e.default=d.exports},FXxG:function(t,e,a){"use strict";var i=a("rQ0O");a.n(i).a},KDrQ:function(t,e,a){"use strict";var i={props:{value:{type:String,default:""},treeData:{required:!0,type:Array},echoId:{type:String,default:""}},data:function(){return{inputValue:"",treeProps:{label:"groupName",children:"child"},showPopover:!1}},watch:{value:function(t){this.inputValue=t},inputValue:function(t){this.$emit("input",t)},echoId:function(){this.treeData.length&&!this.inputValue&&this.echoMethod(this.treeData)}},methods:{filterNodeMethod:function(t,e,a){return!t||-1!==e.groupName.indexOf(t)},nodeClick:function(t){this.showPopover=!1,this.inputValue=t.groupName,this.$emit("change",t)},echoMethod:function(t){var e=this;t.forEach(function(t){if(t.id===e.echoId)return e.inputValue=t.groupName;t.child&&t.child.length&&e.echoMethod(t.child)})}}},r=a("ZrdR"),l=Object(r.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"choose_admissions_team_selcet"},[a("el-popover",{attrs:{trigger:"click",placement:"bottom"},model:{value:t.showPopover,callback:function(e){t.showPopover=e},expression:"showPopover"}},[a("el-input",{attrs:{slot:"reference",placeholder:"请选择"},slot:"reference",model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),t._v(" "),a("permission-tree",{attrs:{treeData:t.treeData,defaultProps:t.treeProps,isShowCheckbox:!1,nodeKey:"id",expandOnClickNode:!1,filterNodeMethod:t.filterNodeMethod,filterText:t.inputValue},on:{nodeClick:t.nodeClick}})],1)],1)},[],!1,null,null,null);l.options.__file="chooseAdmTeamSelcet.vue";e.a=l.exports},rQ0O:function(t,e,a){}}]);