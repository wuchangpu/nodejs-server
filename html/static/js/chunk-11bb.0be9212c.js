(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-11bb"],{D2uO:function(e,r,t){"use strict";t.r(r);var s=[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"avatar_container"},[r("img",{attrs:{src:t("EZUY"),alt:"avatar"}})])}],o=t("cLjf"),n=t.n(o),a=t("6ZY3"),i=t.n(a),l=t("hDQ3"),f=t.n(l),u=t("EPZ6"),c=t.n(u),m=t("bS4n"),d=t.n(m),p=t("8t5x"),b={data:function(){var e=this;return{form:{jobNumber:"",username:"",idCard:"",mobile:"",roleIdList:[]},rules:{username:[{required:!0,message:"请输入姓名",trigger:"change"}],idCard:[{required:!0,message:"请输入身份证号码",trigger:"change"},{validator:function(r,t,s){t?e.$reg.idCard.test(t)?s():s(new Error("身份证号码格式不正确")):s(new Error("请输入身份证号码"))},trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号码",trigger:"change"},{validator:function(r,t,s){console.log("this.value",t,!t),t?e.$reg.phone.test(t)?s():s(new Error("手机号码格式不正确")):s(new Error("请输入手机号码"))},trigger:"blur"}]}}},computed:d()({},Object(p.b)(["userInfo"])),created:function(){this.getInfo()},methods:{getInfo:function(){var e=this;c()(this.form).forEach(function(r){e.form[r]=e.userInfo.user[r]})},submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return r.$message.error("有信息未填写"),!1;r.editUserInfo()})},editUserInfo:function(){var e=this;return f()(n.a.mark(function r(){var t;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$post("sysUserUpdate",i()({},e.form,{userId:e.userInfo.user.userId}));case 2:"1000"===(t=r.sent).returnCode?(e.$message.success("修改成功"),c()(e.form).forEach(function(r){e.userInfo.user[r]=e.form[r]}),e.$store.dispatch("setUserInfo",e.userInfo),e.$router.go(-1)):e.$message.error(t.message);case 4:case"end":return r.stop()}},r,e)}))()}}},h=(t("b4Mh"),t("ZrdR")),v=Object(h.a)(b,function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"edit_userInfo"},[e._m(0),e._v(" "),t("el-form",{ref:"form",staticClass:"form",attrs:{model:e.form,"inline-message":!0,rules:e.rules,"label-width":"120px"}},[t("el-row",[t("el-col",{attrs:{span:12,offset:5}},[t("el-form-item",{attrs:{label:"工号：","label-width":"120px"}},[e._v("\n          "+e._s(e.form.jobNumber)+"\n        ")])],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12,offset:5}},[t("el-form-item",{attrs:{label:"姓名：","label-width":"120px",prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username","string"==typeof r?r.trim():r)},expression:"form.username"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12,offset:5}},[t("el-form-item",{attrs:{label:"身份证号：","label-width":"120px",prop:"idCard"}},[t("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.idCard,callback:function(r){e.$set(e.form,"idCard","string"==typeof r?r.trim():r)},expression:"form.idCard"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12,offset:5}},[t("el-form-item",{attrs:{label:"联系方式：","label-width":"120px",prop:"mobile"}},[t("el-input",{attrs:{placeholder:"请输入"},model:{value:e.form.mobile,callback:function(r){e.$set(e.form,"mobile","string"==typeof r?r.trim():r)},expression:"form.mobile"}})],1)],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12,offset:5}},[t("el-form-item",{attrs:{label:"角色：","label-width":"120px"}},[e._v("\n            "+e._s(e.userInfo.user.roleName)+"\n          ")])],1)],1)],1),e._v(" "),t("div",{staticClass:"btn_container"},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){e.submitForm("form")}}},[e._v("确定")]),e._v(" "),t("el-button",{attrs:{size:"mini"},on:{click:function(r){e.$router.go(-1)}}},[e._v("返回")])],1)],1)},s,!1,null,"6ffdcea5",null);v.options.__file="edit.vue";r.default=v.exports},FNeP:function(e,r,t){},b4Mh:function(e,r,t){"use strict";var s=t("FNeP");t.n(s).a}}]);